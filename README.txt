bonus : pas de globales au lieu de 2 / calloc / thread-safe
